## IronGram

Create a project via Spring Initializr called `IronGram` with the following libraries:

* Web
* DevTools
* JPA
* H2
* PostgreSQL

Add the following to `application.properties`:

```
spring.datasource.url=jdbc:h2:./main
spring.jpa.generate-ddl=true
spring.jpa.hibernate.ddl-auto=none
```

Start by creating your entities in `src/main/java/com/theironyard/entities/`:

```java
@Entity
@Table(name = "users")
public class User {
    @Id
    @GeneratedValue
    int id;

    @Column(nullable = false, unique = true)
    String name;

    @Column(nullable = false)
    String password;

    public User() {
    }

    public User(String name, String password) {
        this.name = name;
        this.password = password;
    }
}
```

```java
@Entity
@Table(name = "photos")
public class Photo {
    @Id
    @GeneratedValue
    int id;

    @ManyToOne
    User sender;

    @ManyToOne
    User recipient;

    @Column(nullable = false)
    String filename;

    public Photo() {
    }

    public Photo(User sender, User recipient, String filename) {
        this.sender = sender;
        this.recipient = recipient;
        this.filename = filename;
    }
}
```

Add getters and setters to both classes, so they can be serialized to JSON properly. Then create your repositories in `src/main/java/com/theironyard/services/`:

```java
public interface UserRepository extends CrudRepository<User, Integer> {
    User findByName(String name);
}
```

```java
public interface PhotoRepository extends CrudRepository<Photo, Integer> {
}
```

